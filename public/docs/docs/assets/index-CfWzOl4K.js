import{r as o,V as x}from"./iframe-CbXUUqvh.js";import{j as E}from"./jsx-runtime-D_zvdyIk.js";import{u as C}from"./index-BYms403i.js";function j(e,n,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e?.(s),t===!1||!s.defaultPrevented)return n?.(s)}}function L(e,n){const t=o.createContext(n),r=c=>{const{children:u,...i}=c,a=o.useMemo(()=>i,Object.values(i));return E.jsx(t.Provider,{value:a,children:u})};r.displayName=e+"Provider";function s(c){const u=o.useContext(t);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,s]}function D(e,n=[]){let t=[];function r(c,u){const i=o.createContext(u),a=t.length;t=[...t,u];const l=f=>{const{scope:p,children:m,...v}=f,S=p?.[e]?.[a]||i,h=o.useMemo(()=>v,Object.values(v));return E.jsx(S.Provider,{value:h,children:m})};l.displayName=c+"Provider";function d(f,p){const m=p?.[e]?.[a]||i,v=o.useContext(m);if(v)return v;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[l,d]}const s=()=>{const c=t.map(u=>o.createContext(u));return function(i){const a=i?.[e]||c;return o.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return s.scopeName=e,[r,P(s,...n)]}function P(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const u=r.reduce((i,{useScope:a,scopeName:l})=>{const f=a(c)[`__scope${l}`];return{...i,...f}},{});return o.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return t.scopeName=n.scopeName,t}var g=globalThis?.document?o.useLayoutEffect:()=>{},M=x[" useId ".trim().toString()]||(()=>{}),A=0;function F(e){const[n,t]=o.useState(M());return g(()=>{t(r=>r??String(A++))},[e]),e||(n?`radix-${n}`:"")}var R=x[" useInsertionEffect ".trim().toString()]||g;function W({prop:e,defaultProp:n,onChange:t=()=>{},caller:r}){const[s,c,u]=w({defaultProp:n,onChange:t}),i=e!==void 0,a=i?e:s;{const d=o.useRef(e!==void 0);o.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const l=o.useCallback(d=>{if(i){const f=y(d)?d(e):d;f!==e&&u.current?.(f)}else c(d)},[i,e,c,u]);return[a,l]}function w({defaultProp:e,onChange:n}){const[t,r]=o.useState(e),s=o.useRef(t),c=o.useRef(n);return R(()=>{c.current=n},[n]),o.useEffect(()=>{s.current!==t&&(c.current?.(t),s.current=t)},[t,s]),[t,r,c]}function y(e){return typeof e=="function"}function O(e,n){return o.useReducer((t,r)=>n[t][r]??t,e)}var I=e=>{const{present:n,children:t}=e,r=T(n),s=typeof t=="function"?t({present:r.isPresent}):o.Children.only(t),c=C(r.ref,b(s));return typeof t=="function"||r.isPresent?o.cloneElement(s,{ref:c}):null};I.displayName="Presence";function T(e){const[n,t]=o.useState(),r=o.useRef(null),s=o.useRef(e),c=o.useRef("none"),u=e?"mounted":"unmounted",[i,a]=O(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const l=N(r.current);c.current=i==="mounted"?l:"none"},[i]),g(()=>{const l=r.current,d=s.current;if(d!==e){const p=c.current,m=N(l);e?a("MOUNT"):m==="none"||l?.display==="none"?a("UNMOUNT"):a(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,a]),g(()=>{if(n){let l;const d=n.ownerDocument.defaultView??window,f=m=>{const S=N(r.current).includes(m.animationName);if(m.target===n&&S&&(a("ANIMATION_END"),!s.current)){const h=n.style.animationFillMode;n.style.animationFillMode="forwards",l=d.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=h)})}},p=m=>{m.target===n&&(c.current=N(r.current))};return n.addEventListener("animationstart",p),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{d.clearTimeout(l),n.removeEventListener("animationstart",p),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[n,a]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:o.useCallback(l=>{r.current=l?getComputedStyle(l):null,t(l)},[])}}function N(e){return e?.animationName||"none"}function b(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}export{I as P,j as a,W as b,D as c,g as d,L as e,F as u};
